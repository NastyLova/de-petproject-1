# 1.3. Качество данных

## Оцените, насколько качественные данные хранятся в источнике.
Опишите, как вы проверяли исходные данные и какие выводы сделали.

-----
Данные в таблице production.orders выглядят корректно. Нет атрибутов (payment, cost) < 0. Нет кривых дат. Нет дублирующихся идентификаторов заказов. 
Поле order_ts является типом timestamp, а следовательно при дополнении или обновлении записи нельзя вписать неправильный формат даты. Максимальная дата не больше чем текущий день.
Есть ограничения по типу данных в поле payment, bonus_payment, cost - numeric(19, 5). Поэтому вписать другие символы, помимо чисел с плавающей точкой не получится.
Поле status и user_id не имеют ссылки(foreigh key) на таблицы orderstatuses и users соответственно, но имеют аналогичные типы данных с родительскими таблицами int4.
Следубщим запросом проверяла что в необходимых мне полях данные не выходят за границы (предполагаемые) допустимых значений:
select  min(o.order_ts) min_date, --2022-02-12 02:41:28.000
		max(o.order_ts) max_date, --2022-03-14 02:38:26.000
		min(o.order_id) min_order_id, --1129
		max(o.order_id) max_order_id, --9999867
		min(o.user_id) min_user_id, --0
		max(o.user_id) max_user_id, --999
		min(o.payment) min_payment, --60.00000
		max(o.payment) max_payment --6360.00000
from production.orders o;
Максимальная и минимальная даты выглядят реалистично. 
Нет подозрительных значений идентификатора заказа (на первый взгляд).
Аналогично с идентификаторами пользователей, нет некорректных.
Суммы платежей по заказам выглядят правдоподобно.

В таблице с заказами отсутствуют user_id, которых нет в таблице с пользователями users:
select count(*)
from production.orders o
left join production.users u on u.id = o.user_id
where u.id is null; -- 0

Аналогично и с таблицей статусов, в таблице с заказами отсутствуют status, которых нет в таблице статусов orderstatuses:
select count(*)
from production.orders o
left join production.orderstatuses o2 on o2.id = o.status
where o2.id is null; -- 0
-----

## Укажите, какие инструменты обеспечивают качество данных в источнике.
Ответ запишите в формате таблицы со следующими столбцами:
- `Наименование таблицы` - наименование таблицы, объект которой рассматриваете.
- `Объект` - Здесь укажите название объекта в таблице, на который применён инструмент. Например, здесь стоит перечислить поля таблицы, индексы и т.д.
- `Инструмент` - тип инструмента: первичный ключ, ограничение или что-то ещё.
- `Для чего используется` - здесь в свободной форме опишите, что инструмент делает.

Пример ответа:

| Таблицы           | Объект                             		| Инструмент      | Для чего используется                             |
| ----------------- | ------------------------------------------| --------------- | ------------------------------------------------- |
| production.orders | order_id int4 NOT NULL PRIMARY KEY 		| Первичный ключ  | Обеспечивает уникальность записей о пользователях |
| production.orders | order_ts timestamp NOT NULL        		| Ограничение null| Для гарантии заполняемости поля |
| production.orders | user_id int4 NOT NULL              		| Ограничение null| Для гарантии заполняемости поля |
| production.orders | payment numeric(19, 5) NOT NULL DEFAULT 0 | Ограничение null, значение по умолчанию| Для гарантии заполняемости поля |
| production.orders | status int4 NOT NULL             			| Ограничение null| Для гарантии заполняемости поля |